# Ch.10 조건문 로직 간소화

## Part.01 조건문 분해하기

### 배경

- 조건문의 조건은 **무엇**이 일어나는 지는 설명하지만 **왜** 일어나는지는 설명해주지 않는 경우가 많다.
  - 의도를 살린 함수로 조건을 변경하는 것이 이 기법이다.

### 절차

1. 조건문과 그 식을 함수로 추출한다.

### 예시

<details><summary>리팩터링 이전 코드</summary>
<div markdown="1">

```
export function chargeFor(plan, aDate) {
  let charge = 0,
    quantity = 200;
  if (!aDate.isBefore(plan.summerStart) && !aDate.isAfter(plan.summerEnd)) {
    charge = quantity * plan.summerRate;
  } else {
    charge = quantity * plan.regularRate + plan.regularServiceCharge;
  }
  return charge;
}

```

</div>
</details>

<details><summary>리팩터링 이후 코드</summary>
<div markdown="1">

```
export function chargeFor(plan, aDate) {
  let quantity = 200;
  return summer() ? summerCharge() : regularCharge();

  let charge;
  if (summer()) {
    charge = summerCharge();
  } else {
    charge = regularCharge();
  }
  return charge;

  function regularCharge() {
    return quantity * plan.regularRate + plan.regularServiceCharge;
  }

  function summerCharge() {
    return quantity * plan.summerRate;
  }

  function summer() {
    return !aDate.isBefore(plan.summerStart) && !aDate.isAfter(plan.summerEnd);
  }
}

export function result() {
  return { plan1: chargeFor(plan, date1), plan2: chargeFor(plan, date2) };
}

```

</div>
</details>

- 조건이 짧은 경우는 삼항 연산자도 유용하다.

### 느낀점

- 좋은 코드를 작성할 때 조건문에 왜 주의를 기울여야 하는지 배웠다.
